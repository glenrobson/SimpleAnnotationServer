<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html lang="en"
      xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:c="http://java.sun.com/jsp/jstl/core"
      xmlns:p="http://primefaces.org/ui"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets">

    <ui:composition template="WEB-INF/templates/layout.xhtml">
        <ui:param name="title" value="Load Annotations"></ui:param>
        <ui:param name="selected-menu" value="populate.xhtml"></ui:param>

        <ui:define name = "content">
            <main xmlns="http://www.w3.org/1999/xhtml" tabindex="-1" role="main" id="content" class="bs-docs-masthead">
                <div class="container">
                    <h1>Import Annotations</h1>
                    <p>If you have created annotations outside of SAS you can upload them here so that you can edit them through Mirador. This might be useful if you have OCR or Machine learning generated annotations. One popular output format for OCR is ALTO, and there is a transformer which will convert it into Annotations available on <a href="https://github.com/glenrobson/iiif_stuff/tree/c3c36ff208edc16a132cad3bdb71dc978c72b9cf/alto2annotations">Github</a>.</p>

                    <p>The annotations should be compatible with IIIF Version 2 and be in a JSON file.</p>

                    <form action="annotation/populate" method="post" enctype="multipart/form-data">
                        <p><b>Upload annotations:</b></p>
                        <div class="custom-file">
                          <input type="file" class="custom-file-input" name="upfile" id="customFile"></input>
                          <label class="custom-file-label" for="customFile">Choose file</label>
                        </div>
                        <br/>
                        <div class="form-group" style="padding-top: 10px;">
                            <button type="submit" id="upload" class="btn btn-secondary mb-2">Upload</button>
                        </div>
                    </form>    
                    <script>
                        $('.custom-file-input').on('change', function() { 
                           let fileName = $(this).val().split('\\').pop(); 
                           $(this).next('.custom-file-label').addClass("selected").html(fileName); 
                        });
                    </script>
                </div>
            </main>
        </ui:define>
    </ui:composition>
</html>
